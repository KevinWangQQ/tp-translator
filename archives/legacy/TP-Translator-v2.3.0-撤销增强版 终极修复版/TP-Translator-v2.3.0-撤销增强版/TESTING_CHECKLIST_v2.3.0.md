# TP Translator v2.3.0 撤销增强版 测试清单

## 🔍 版本验证
- [ ] Figma插件名称显示: "TP Translator v2.3.0 撤销增强版"
- [ ] 控制台输出显示正确版本信息
- [ ] manifest.json版本正确

## 🆕 新功能验证

### 一键撤销功能测试
- [ ] 选择多个文本节点（建议3-5个不同内容）
- [ ] 记录翻译前的原始文本内容
- [ ] 执行翻译操作，确保翻译成功
- [ ] 切换到"翻译结果"页面
- [ ] 验证顶部显示"批量操作"面板
- [ ] 点击"↩️ 撤销本次翻译"按钮
- [ ] 确认弹窗后执行撤销
- [ ] 验证所有节点文本恢复到翻译前状态
- [ ] 检查撤销成功通知消息
- [ ] 验证翻译结果列表被清空

### 批量编辑功能测试
- [ ] 创建多个相同文本的节点（如3个"Home"）
- [ ] 执行翻译，确保相同文本被翻译为相同结果
- [ ] 在翻译结果中找到其中一个结果项
- [ ] 点击橙色"批量编辑"按钮（✏️图标）
- [ ] 验证弹窗显示正确的原始文本和当前翻译
- [ ] 输入新的翻译内容
- [ ] 确认修改
- [ ] 验证所有相同原始文本的节点都被更新
- [ ] 检查批量更新成功通知
- [ ] 验证翻译结果列表中的内容已同步更新

### 批量操作面板测试
- [ ] 完成翻译后，验证批量操作面板显示
- [ ] 测试"📄 导出结果"功能
- [ ] 验证导出的JSON文件内容正确
- [ ] 测试"🗑️ 清空结果"功能
- [ ] 确认清空前的确认对话框
- [ ] 验证清空后界面状态正确

## 🔄 回归测试

### 核心翻译功能
- [ ] OpenAI引擎正常工作
- [ ] Gemini引擎正常工作
- [ ] 词库匹配功能正常
- [ ] SF Symbols过滤正常
- [ ] 多种输出模式（替换、并排、新框架、新页面）
- [ ] 翻译结果直接编辑功能

### 设置和配置
- [ ] 引擎配置页面正常显示
- [ ] 提示词设置正常工作
- [ ] 词库管理功能正常
- [ ] 内容过滤设置正常
- [ ] 设置页面尺寸适合

### UI/UX验证
- [ ] 中文界面显示正确
- [ ] 所有按钮和图标显示正常
- [ ] 颜色和样式符合设计
- [ ] 响应式布局正常
- [ ] 鼠标悬浮效果正常

## 🧪 边界测试

### 撤销功能边界测试
- [ ] 尝试在没有翻译历史时点击撤销（应显示警告）
- [ ] 测试撤销大量节点（10+个）的性能
- [ ] 测试部分节点被删除后的撤销行为
- [ ] 验证撤销后再次翻译的功能

### 批量编辑边界测试
- [ ] 测试没有相同文本时的批量编辑（应显示警告）
- [ ] 测试编辑空内容的处理
- [ ] 测试编辑极长文本的处理
- [ ] 验证取消编辑的行为

### 数据完整性测试
- [ ] 测试翻译历史的正确保存和清理
- [ ] 验证多次翻译操作的历史管理
- [ ] 测试异常情况下的数据恢复
- [ ] 验证设置和状态的持久化

## 🎯 性能测试

### 大量数据处理
- [ ] 测试30+个节点的翻译和撤销
- [ ] 验证批量操作的响应时间
- [ ] 检查内存使用情况
- [ ] 测试长时间使用的稳定性

### 用户交互响应
- [ ] 验证按钮点击响应时间
- [ ] 测试界面切换的流畅度
- [ ] 检查操作反馈的及时性

## 🐛 错误处理测试

### 网络和API错误
- [ ] 测试API密钥错误时的撤销功能
- [ ] 验证网络中断时的状态保持
- [ ] 测试引擎服务不可用时的处理

### 异常操作测试
- [ ] 测试快速连续点击撤销按钮
- [ ] 验证翻译过程中点击撤销的处理
- [ ] 测试同时进行多个批量操作

### 数据恢复测试
- [ ] 测试节点被外部修改后的撤销
- [ ] 验证节点被删除后的错误处理
- [ ] 测试字体加载失败时的处理

## 📱 兼容性测试

### Figma版本兼容
- [ ] 测试在不同Figma客户端版本的运行
- [ ] 验证插件在浏览器和桌面应用的表现
- [ ] 测试与其他插件的兼容性

### 数据迁移测试
- [ ] 从v2.2.x升级后功能正常
- [ ] 现有设置和词库保留
- [ ] 新功能正常启用

## ✅ 通过标准

### 核心功能要求
1. **撤销功能完全可用** - 能够准确恢复所有翻译前状态
2. **批量编辑功能正确** - 能够准确识别和更新相同文本
3. **翻译历史管理正常** - 正确保存和使用历史记录
4. **用户界面完整** - 所有新增按钮和面板正常显示

### 性能要求
1. **响应时间** - 撤销和批量编辑操作在3秒内完成
2. **稳定性** - 连续操作不出现崩溃或错误
3. **数据一致性** - 操作前后数据状态一致

### 用户体验要求
1. **操作直观** - 新用户能快速理解功能用途
2. **反馈及时** - 所有操作都有明确的成功/失败反馈
3. **错误处理友好** - 异常情况有清晰的错误提示

---

**测试日期**: ___________
**测试人员**: ___________  
**测试结果**: [ ] 通过 [ ] 需要修复

### 备注区域
_记录测试过程中发现的问题和建议：_

_______________________________________________________
_______________________________________________________
_______________________________________________________