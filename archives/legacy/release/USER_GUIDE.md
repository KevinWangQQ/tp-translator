# Cube Translator - 用户使用指南

## 📦 安装步骤

### 1. 下载插件
- 下载 `cube-translator-v1.1.0.zip` 文件
- 解压到本地文件夹（记住文件夹位置）

### 2. 安装到Figma
1. **打开Figma桌面版**（必须是桌面版，网页版不支持开发插件）
2. **导入插件**：
   - 菜单：`Plugins` → `Development` → `Import plugin from manifest...`
   - 选择解压文件夹中的 `manifest.json` 文件
   - 点击"Open"确认导入

### 3. 启动插件
- 菜单：`Plugins` → `Development` → `Cube Translator`
- 插件面板将在右侧打开

## 🔧 首次设置

### 1. 获取API密钥

#### OpenAI (推荐)
1. 访问：https://platform.openai.com/api-keys
2. 登录或注册OpenAI账户
3. 点击 "Create new secret key"
4. 复制API密钥（以 `sk-` 开头）

#### Google Gemini (免费额度更多)
1. 访问：https://makersuite.google.com/app/apikey
2. 登录Google账户
3. 点击 "Create API key"
4. 复制API密钥（以 `AIza` 开头）

### 2. 配置翻译引擎

1. **打开设置**：
   - 点击插件界面右上角的 ⚙️ 按钮

2. **启用引擎**：
   - 在"Translation Engines"部分
   - 开启OpenAI或Gemini的开关
   - 引擎卡片会变成绿色

3. **输入API密钥**：
   - 在对应引擎的"API Key"框中粘贴密钥
   - 选择推荐的模型：
     - **OpenAI**: GPT-3.5 Turbo Instruct (快速、便宜)
     - **Gemini**: Gemini 1.5 Flash (快速、免费额度大)

4. **测试连接**：
   - 点击"Test Connection"按钮
   - 看到"✅ connection test passed"表示成功

5. **保存设置**：
   - 点击"Save Settings"保存配置

## 🚀 开始翻译

### 1. 选择文本
- 在Figma画布中选择要翻译的文本图层
- 可以单选或多选（支持批量翻译）
- 或点击"📝 Select All Text"选择当前页面所有文本

### 2. 配置翻译

1. **选择引擎**：
   - 从下拉菜单选择已配置的翻译引擎
   - 选择后会自动显示模型选项和API密钥输入

2. **设置语言**：
   - **Source Language**: 源语言（可选择"Auto-detect"自动检测）
   - **Target Language**: 目标语言

3. **选择输出模式**：
   - **Replace**: 直接替换原文本
   - **Display beside**: 在原文旁边显示译文
   - **New Frame**: 创建新框架显示对比
   - **New Page**: 创建新页面显示结果

### 3. 执行翻译
- 确保所有必要信息都已填写
- 点击 "🚀 Translate" 按钮
- 翻译进度会实时显示
- 自动切换到"Translate"标签查看结果

## ⚡ 高级功能

### 🧠 翻译记忆
- **自动保存**：每次成功的翻译都会自动保存
- **查看历史**：设置 → Translation Memories 标签
- **重用设置**：点击历史记录的"Reuse"按钮快速应用相同配置
- **管理记录**：可以删除单个记录或清空所有记录

### 🎨 字体映射
- **启用映射**：在主界面开启"Font Mapping"开关
- **配置映射**：为不同字重配置对应字体
- **自动应用**：翻译时自动应用配置的字体映射

### 📊 批量处理
- **并行翻译**：最多3个文本同时翻译
- **智能调度**：自动优化翻译顺序
- **进度追踪**：实时显示翻译进度

## 🆘 故障排除

### 常见问题

#### ❌ 插件无法加载
**可能原因**：
- 使用了网页版Figma（需要桌面版）
- manifest.json文件路径错误

**解决方法**：
- 确保使用Figma桌面应用
- 重新导入manifest.json文件

#### ❌ API调用失败
**可能原因**：
- API密钥错误或过期
- 网络连接问题
- API额度不足

**解决方法**：
- 检查API密钥是否正确
- 确认网络连接正常
- 检查API账户余额

#### ❌ 翻译质量不佳
**可能原因**：
- 模型选择不当
- 源语言检测错误
- 文本上下文不足

**解决方法**：
- 使用更高质量的模型（如GPT-4）
- 手动指定源语言而非自动检测
- 检查原文是否完整

#### ❌ 翻译速度慢
**可能原因**：
- 网络延迟
- 选择了较慢的模型
- 文本量过大

**解决方法**：
- 检查网络连接
- 尝试Gemini 1.5 Flash（速度最快）
- 分批处理大量文本

### 调试信息
如果遇到问题，可以：
1. 打开浏览器开发者工具（F12）
2. 查看Console标签的错误信息
3. 将错误信息提供给技术支持

## 💡 使用技巧

### 提高翻译质量
1. **明确上下文**：确保文本具有完整语境
2. **统一术语**：利用翻译记忆保持术语一致性
3. **选择合适模型**：
   - 一般文本：GPT-3.5 Turbo Instruct
   - 专业内容：GPT-4
   - 快速翻译：Gemini 1.5 Flash

### 提高工作效率
1. **批量处理**：一次性选择多个文本节点
2. **使用记忆**：重复项目中重用之前的翻译设置
3. **合理分组**：按页面或组件分批翻译

### 成本控制
1. **使用Gemini**：免费额度更大
2. **选择经济模型**：GPT-3.5系列成本更低
3. **精准选择**：只翻译必要的文本节点

## 🔐 隐私与安全

### 数据安全
- **本地存储**：API密钥存储在Figma本地
- **直接通信**：与AI服务商直接通信，不经过第三方
- **无数据收集**：插件不收集或上传您的设计内容

### API密钥保护
- **安全存储**：使用Figma的安全存储API
- **加密传输**：所有API调用都使用HTTPS加密
- **访问控制**：只有插件本身可以访问存储的密钥

## 📞 技术支持

### 获取帮助
- **使用手册**：本文档涵盖所有常用功能
- **问题反馈**：GitHub Issues页面报告问题
- **功能建议**：欢迎提出新功能需求

### 版本更新
- **检查更新**：定期检查是否有新版本发布
- **更新方法**：下载新版本重新导入manifest.json
- **备份设置**：更新前的设置会自动保留

---

**祝您使用愉快！如有问题随时反馈。** 🎉